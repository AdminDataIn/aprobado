
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Pasarela de Pagos</title>
    {% load static %}
    {% load humanize %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{% static 'creditos/css/base_styles.css' %}" rel="stylesheet">
</head>
<body class="theme-details" style="display: flex; align-items: center; justify-content: center; height: 100vh;">
    <div class="card" style="width: 100%; max-width: 450px;">
        <div class="card-header text-center">
            <h2 class="card-title">Simulador de Pasarela de Pagos</h2>
        </div>
        <div class="card-body">
            <p class="text-center text-muted">Esta es una simulación. En un entorno real, serías redirigido a la pasarela de pagos.</p>
            <div class="alert alert-info">
                <p class="mb-1"><strong>Crédito #:</strong> {{ credito.id }}</p>
                <p class="mb-1"><strong>Deudor:</strong> {{ credito.detalle_libranza.nombre_completo }}</p>
                <p class="mb-0"><strong>Monto a Pagar:</strong> ${{ valor_cuota|intcomma }}</p>
            </div>
            <form action="{% url 'gestion_creditos:pago_callback' %}" method="POST">
                {% csrf_token %}
                <input type="hidden" name="credito_id" value="{{ credito.id }}">
                <input type="hidden" name="monto" value="{{ valor_cuota }}">
                <input type="hidden" name="referencia" value="{{ referencia_pago }}">
                
                <div class="d-grid gap-2 mt-4">
                    <button type="submit" name="status" value="success" class="btn btn-success">
                        Simular Pago Exitoso
                    </button>
                    <button type="submit" name="status" value="failure" class="btn btn-danger">
                        Simular Pago Fallido
                    </button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
